---
layout: default
permalink: /404.html
stylesheet: 404.css
---


<script>

window.onload = function(){

	console.log('getSuggestedPages initialized')

	if ( typeof(window.searchIndex) === "undefined" ) {
		initSearch();
		
	} else {
		
	}

	setTimeout(getSuggestedPages, 1000);

}

function getSuggestedPages () {


	var currentUrlParts = window.location.href.split('/');
	var searchString = "";

	console.log('failed url parts', currentUrlParts)

	// first, remove slashes and header elements
	for ( var x = 3; x < currentUrlParts.length; x++ ) {
		searchString += " " + decodeURIComponent(currentUrlParts[x])
	}

	// then, replace all special characters with spaces for better matching
	searchString.replace(/[^a-zA-Z ]/g, " ")

	console.log('found potential search string', searchString)

	var searchResult = window.searchIndex.search(searchString)

	console.log('searchResult', searchResult)

	if ( searchResult.length > 0 ) {
		deleteAllSuggestedPages()

		for ( var i = 0; i < 3; i++ ) {

			var pageData = lookupResultRecord(searchResult[i]);
			displaySuggestedPage(pageData)

		}

	}

}

function displaySuggestedPage (pageData) {

	var suggestedPagesContainer = document.getElementById('suggestedPages');

	var tile = document.createElement('div')
		tile.className = "tileItem"

	var aCon = document.createElement('a')
		aCon.target = "_blank"
		aCon.href = pageData.link
	
	var img = document.createElement('img')
		img.src = "/assets/img/" + pageData.image

	var title = document.createElement('h1')
		title.textContent = pageData.title

	var data = document.createElement('span')

	if ( typeof (pageData.author) != 'undefined' ) {
		data.textContent = pageData.author
	} else if ( typeof (pageData.eventdate) != "undefined" ) {
		data.textContent = pageData.eventdate
	} else if ( typeof (pageData.summary ) != "undefined" ) {
		data.textContent = pageData.summary
	}

	aCon.appendChild(img)
	aCon.appendChild(title)
	aCon.appendChild(data)
	tile.appendChild(aCon)

	console.log('trying to append', tile )
	suggestedPagesContainer.appendChild(tile)
		
}

function deleteAllSuggestedPages () {
	var container = document.getElementById('suggestedPages')
    var child = container.lastElementChild;  
    while (child) { 
        container.removeChild(child); 
        child = container.lastElementChild; 
    } 
}

</script>

<section class="pageHeaderImage" style="background:url(/assets/img/404.png);background-size:cover;background-position:center;">
	
</section>

<section class="oops">
	<h1 class="hasColorTag red">Oops! That page can't be found.</h1>
	<div class="row">
		<span>It looks like nothing was found at this location. Maybe try a search?</span>
		<input type="text" placeholder="Type here to search the site..." onclick="toggleDisplaySearchLightbox()">
		<a class="nav-link px-2 float-right" onclick="toggleDisplaySearchLightbox()" href="#"><i class="fa fa-search"></i></a>

		<button class="searchButton" onclick="toggleDisplaySearchLightbox()">Search the site</button>
	</div>
</section>

{% include pinkDivider.html %}
{% include upcomingEvents.html %}